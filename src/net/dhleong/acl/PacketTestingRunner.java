package net.dhleong.acl;

import net.dhleong.acl.net.BaseArtemisPacket;
import net.dhleong.acl.net.ObjUpdatePacket;

public class PacketTestingRunner {
    
    public static final void main(String[] args) {
        String[] tests = new String[]{
                "027c070000dd3a6f007c04000000460037003100000000000000cdcc4c3f6f12833b89130000a94ec3473250c3474215813ed0cc4cbed0cccc3e000096430000964300001643000016433518000000d27f023fe4353f3f16bb0a3f4f7fda3e1314d63e027d070000dd3a6f007c04000000500037003400000000000000cdcc4c3f6f12833b89130000a94ec347b2f89f414215813ed0cc4cbed0cccc3e000096430000964300001643000016433623000000e2f5f03e387ce83e6b121c3fc68b623ffe60e53e00000000",
                "02470c0000853a40027c040000005900330032000000000000002d0c9247c3c1ba464215813ed0cc4cbed0cccc3e22000000002821fa3e2cee623fc6ad2f3fb3ac0c3fe9fbc03e02480c0000ffffffff7f040000004f003100360000000000803f00000000cdcc4c3f6f12833b010000008a1300003df02b470000000001189f47000000004215813ed0cc4cbed0cccc3e0000000000af430000af430000964300009643010043100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0f5d73e2607133f1e09423f875ff63ebfba453f00000000",
                "0262080000ff3ffffd7f0400000047003900350000000000803f000000009a99993e6f12033b01000000d0070000b2606043000000006afb9c47000000004215013ed0ccccbd9a99993e0000204200002042000020420000204201000443000000000000000000000000000000000000000000000000000000000000000000000000000000000000001d7f0e3f4265543f8bde2b3f506ac13e2011433f00000000",
                "03040d0000ffffffff0705000000440065003900350000000000803f0efeff3e3333333f6f12033b00000000dd050000bcc7634700000000abd39f46000000001cafc73658a365bf3333333f00000000a0420000a0420000a0420000a042010000000000000000000000000000000000000000000000000000000000000000000000000000c05c133f6f3db73e781b3c3fc834173f5b08473f03050d0000ffffffff0705000000440065003400300000000000803fa0feff3e3333333f6f12033b00000000dd05000028ef5b47000000006760824700000000b3df9336aa5821c03333333f01000000a0420000a0420000a0420000a04201000000000000000000000000000000000000000000000000000000000000000000000000000066a5663f3287193f0659363fb0a0be3e4a03253f03060d0000ffffffff0705000000540072003300320000000000803f8800003f9a99993e6f12033b00000000dc050000174ecd46000000007508a04700000000cbc155b61da948409a99993e0000000020420000204200002042000020420100000000000000000000000000000000000000000000000000000000000000000000000000008742dd3e1094213f41a1533f0b91eb3e78d9083f03070d0000ffffffff0705000000440065003000380000000000803ff8fcff3e3333333f6f12033b00000000dd0500002364ed4600000000d28f664700000000c6f919373e8f1a403333333f00004eb62e410000a0420000a0420000a042010000000000000000000000000000000000000000000000000000000000000000000000000000c5d2fb3e6a81013fd2d7023f34dc333f57a7de3e03080d0000ffffffff0705000000540072003600330000000000803ff201003f9a99993e6f12033b00000000dc050000ae1a974700000000607791470000000070a747b776b0f1bf9a99993e010000002042000020420000204200002042010000000000000000000000000000000000000000000000000000000000000000000000000000d55e9d3ed7a81e3f28b02d3f88622a3f6072163f00000000",
                "02b4050000fb3a5f007c040000005a003800320000000000803f9a99993e6f12033b01000000d0070000654fc347a33c53474215013ed0ccccbd9a99993e00002042000020420000204200002042010021000000b6b4743f5f4cfc3e0173003fd045353fcf0f013f02b5050000ffffffff7f0400000056003000370000000000803f000000009a99993e6f12033b01000000d0070000654fc3470000000067a75447000000004215013ed0ccccbd9a99993e000000000020420000204200002042000020420100002600000000000000000000000000000000000000000000000000000000000000000000000000000000000000001714253f858dc23ea4d06b3f32e4323f0cbb053f00000000",
        };
        
        for (String s : tests) {
            byte[] bytes = hexStringToByteArray(s);
            if (!BaseArtemisPacket.byteArrayToHexString(bytes).equals(s))
                throw new RuntimeException("byte conversion fail");
            
            System.out.println();
            ObjUpdatePacket pkt = new ObjUpdatePacket(bytes);
            pkt.debugPrint();
            System.out.println("--> " + pkt);
            System.out.println();
        }
    }

    /** from stack overflow */
    public static byte[] hexStringToByteArray(String s) {
        s = s.toUpperCase(); // yes?
        
        int len = s.length();
        byte[] data = new byte[len / 2];
        for (int i = 0; i < len; i += 2) {
            data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) << 4)
                                 + Character.digit(s.charAt(i+1), 16));
        }
        return data;
    }
}
